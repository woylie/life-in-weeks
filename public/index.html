<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8" />
    <title>Life in Weeks</title>
    <script src="life-in-weeks.js"></script>
    <style>
      body {
        padding: 1.5rem;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica,
          Arial, sans-serif;
      }

      h1 {
        font-size: 1.5rem;
        font-weight: 400;
      }
    </style>
  </head>

  <body>
    <h1>Life in Weeks</h1>
    <div id="app"></div>
    <script>
      var storedState = localStorage.getItem('life-in-weeks-model');
      var startingState = storedState ? JSON.parse(storedState) : null;

      var app = Elm.Main.init({
        node: document.getElementById("app"),
        flags: startingState
      });

      app.ports.storeModel.subscribe(function (model) {
        var modelJson = JSON.stringify(model);
        localStorage.setItem('life-in-weeks-model', modelJson);
      });
    </script>
  </body>
</html>
